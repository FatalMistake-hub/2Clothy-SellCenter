(this["webpackJsonp2Clothy-SellCenter"]=this["webpackJsonp2Clothy-SellCenter"]||[]).push([[22],{289:function(e,a,t){"use strict";t.r(a);var n=t(28),l=t(58),r=t.n(l),c=t(59),s=t(10),i=t(0),m=t.n(i),o=t(56),u=t(2),d=t(19),h=t(61),f=t(57),v=t(25),p=t(72),b=t(82),g=t(83),E=t(81),x=t(17),N=t(26),y=t(67),w=t(27),j=t(62),O=function(e){var a=e.children;return m.a.createElement("h2",{className:"mb-3 text-sm font-semibold text-gray-600 dark:text-gray-300"},a)};a.default=function(){var e,a=Object(i.useState)(!1),t=Object(s.a)(a,2),l=t[0],C=t[1],S=Object(i.useState)(null),k=Object(s.a)(S,2);k[0],k[1];function P(){return(P=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){C(!1)}var z=Object(i.useState)([]),B=Object(s.a)(z,2),M=B[0],D=B[1];Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a();case 2:a=e.sent,D(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=Object(i.useState)(),T=Object(s.a)(L,2),H=T[0],q=T[1],A=Object(i.useState)([]),R=Object(s.a)(A,2),U=R[0],V=R[1],F=function(){var e=Object(c.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.c(a.id);case 2:t=e.sent,V(t.categories);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_=Object(i.useState)([]),J=Object(s.a)(_,2),G=J[0],K=J[1],X=Object(i.useState)([]),Q=Object(s.a)(X,2),W=Q[0],Y=Q[1],Z=Object(i.useState)([]),$=Object(s.a)(Z,2),ee=$[0],ae=$[1];Object(i.useEffect)((function(){if(!(G.length<1)){var e=[];he.values.Paths=G,G.forEach((function(a){return e.push(URL.createObjectURL(a))})),Y(e)}}),[G]);var te=function(e){var a=e.type.split("/")[1];return["png","jpeg","jpg"].includes(a)};var ne=Object(i.useRef)(null),le=Object(x.b)(),re=Object(x.c)(N.a),ce=Object(u.g)(),se=null===re||void 0===re?void 0:re.login.currentUser,ie=null===se||void 0===se?void 0:se.accessToken,me=Object(i.useState)(""),oe=Object(s.a)(me,2),ue=oe[0],de=oe[1],he=Object(b.a)({initialValues:{CategoryId:null,Name:"",Price:null,Description:"",Size:"",Paths:[]},validationSchema:g.c({CategoryId:g.c().required("B\u1eaft bu\u1ed9c!"),Name:g.e().required("B\u1eaft bu\u1ed9c!"),Price:g.b().required("B\u1eaft bu\u1ed9c!"),Description:g.e().required("B\u1eaft bu\u1ed9c!"),Size:g.e().required("B\u1eaft bu\u1ed9c!"),Paths:g.a().required("B\u1eaft bu\u1ed9c!")}),onSubmit:function(e){var a={CategoryId:e.CategoryId.id,Name:e.Name,Price:e.Price,Description:e.Description,Size:e.Size,Paths:ee};console.log("submit",a),console.log(he.errors);var t=Object(y.a)(se,le,w.a.actions.loginSuccess);(function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(a,ce,ie,t);case 2:n=e.sent,de(n),console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}});return m.a.createElement("div",null,m.a.createElement(o.a,null,"Th\xeam M\u1edbi S\u1ea3n Ph\u1ea9m"),m.a.createElement(o.a,null,ue),m.a.createElement("div",{className:"flex text-gray-800 dark:text-gray-300"},m.a.createElement("div",{className:"flex items-center text-orange-600"},m.a.createElement(h.a,{className:"w-5 h-5","aria-hidden":"true",icon:f.HomeIcon}),m.a.createElement(d.c,{exact:!0,to:"/dashboard",className:"mx-2"},"K\xeanh ng\u01b0\u1eddi b\xe1n")),">",m.a.createElement("p",{className:"mx-2"},"Th\xeam M\u1edbi S\u1ea3n Ph\u1ea9m")),m.a.createElement("div",{className:"w-full mt-8 grid gap-4 grid-col md:grid-cols-3 "},m.a.createElement(v.Modal,{isOpen:l,onClose:I,style:{width:"1000px"}},m.a.createElement(v.ModalHeader,{className:"flex mb-8 text-3xl "},"Ch\u1ec9nh s\u1eeda ng\xe0nh h\xe0ng"),m.a.createElement(v.ModalBody,{className:"max-w-7xl max-h-96"},m.a.createElement("div",{className:"flex-grow min-h-8 overflow-auto text-sm px-6"},m.a.createElement("div",{className:"rounded p-4 bg-gray-100"},m.a.createElement("div",{className:"relative overflow-hidden  rounded"},m.a.createElement("div",{className:"py-3 relative w-96 flex bg-white"},m.a.createElement("ul",{className:" h-80 flex-1"},M.map((function(e,a){return m.a.createElement("li",{key:e.id,className:"my-2 flex justify-between leading-8 items-center px-4 hover:bg-gray-100",onClick:function(){return F(e)}},m.a.createElement("p",{className:"text-sm font-semibold leading-8 text-ellipsis"},e.name),m.a.createElement("div",{className:"flex item-center "},m.a.createElement(h.a,{className:"w-5 h-5","aria-hidden":"true",icon:f.RightArrow})))}))),m.a.createElement("ul",{className:" h-80 flex-1"},null===U||void 0===U?void 0:U.map((function(e,a){return m.a.createElement("li",{key:e.id,className:"my-2 flex justify-between leading-8 items-center px-4 hover:bg-gray-100",onClick:function(){return function(e){q(e),he.values.CategoryId=e}(e)}},m.a.createElement("p",{className:"text-sm font-semibold leading-8 text-ellipsis"},e.name))})))))))),m.a.createElement(v.ModalFooter,null,m.a.createElement("div",{className:"w-full flex justify-between"},m.a.createElement("div",{className:"leading-5"},m.a.createElement("span",{className:"mr-1"},"\u0110\xe3 ch\u1ecdn :"),m.a.createElement("span",{className:"ml-1"},null===H||void 0===H?void 0:H.name)),m.a.createElement("div",{className:"flex"},m.a.createElement("div",{className:"ml-4 "},m.a.createElement(v.Button,{block:!0,layout:"outline",onClick:I},"HU\u1ef7")),m.a.createElement("div",{className:"ml-4 hidden sm:block"},m.a.createElement(v.Button,{onClick:I},"X\xe1c nh\u1eadn")))))),m.a.createElement(v.Card,{className:"row-span-4 md:col-span-4 "},m.a.createElement("form",{onSubmit:he.handleSubmit},m.a.createElement(v.CardBody,null,m.a.createElement(O,null,"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"),m.a.createElement("div",{className:"w-full flex flex-wrap"},W.map((function(e,a){return m.a.createElement("div",{key:a,className:"w-20 h-20 rounded mr-4 mb-4"},m.a.createElement("div",{className:"w-full h-full "},m.a.createElement("img",{src:e,alt:"not fount",className:"w-20 h-20 rounded border "})))})),m.a.createElement("div",{className:"w-20 h-20 rounded mr-4 mb-4  text-center  flex"},m.a.createElement("div",{onClick:function(){ne.current.click()},className:"w-full h-full rounded border border-dashed border-slate-600 flex items-center hover:bg-orange-100"},m.a.createElement("input",{id:"Paths",name:"Paths",type:"file",multiple:!0,className:"hidden",onChange:function(e){var a,t=e.target.files;console.log(t),Object(E.a)(t,ae);for(var l=0;l<e.target.files.length;l++){if(!te(t[l])){a=!1;break}a=!0}if(t.length<9&&a)if(G.concat(Object(n.a)(e.target.files)).length<=9){var r=G.concat(Object(n.a)(e.target.files));K(r)}else alert("Over the allowed file amount");else alert("File invalid")},ref:ne}),m.a.createElement("div",{className:"flex text-orange-600 flex-col   "},m.a.createElement("div",{className:"h-6"},m.a.createElement("i",{className:"w-6 h-6 inline-block fill-current"},m.a.createElement("svg",{viewBox:"0 0 23 21",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M18.5 0A1.5 1.5 0 0 1 20 1.5V12c-.49-.07-1.01-.07-1.5 0V1.5H2v12.65l3.395-3.408a.75.75 0 0 1 .958-.087l.104.087L7.89 12.18l3.687-5.21a.75.75 0 0 1 .96-.086l.103.087 3.391 3.405c.81.813.433 2.28-.398 3.07A5.235 5.235 0 0 0 14.053 18H2a1.5 1.5 0 0 1-1.5-1.5v-15A1.5 1.5 0 0 1 2 0h16.5z"}),m.a.createElement("path",{d:"M6.5 4.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM18.5 14.25a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5H20v2.25a.75.75 0 0 1-1.5 0V18h-2.25a.75.75 0 0 1 0-1.5h2.25v-2.25z"})))),m.a.createElement("div",{className:"leading-3 text-xs"},"Th\xeam h\xecnh \u1ea3nh (",W.length,"/9)"))))),m.a.createElement(O,null,"T\xean s\u1ea3n ph\u1ea9m"),m.a.createElement(v.Label,null,m.a.createElement(v.Input,{id:"Name",name:"Name",value:he.values.Name,onChange:he.handleChange,className:"mb-4",placeholder:"Nh\u1eadp v\xe0o"})),m.a.createElement(O,null,"Danh m\u1ee5c"),m.a.createElement(v.Label,null,m.a.createElement(v.Input,{id:"CategoryId",name:"CategoryId",value:null===(e=he.values.CategoryId)||void 0===e?void 0:e.name,onChange:he.handleChange,onClick:function(){return function(e){return P.apply(this,arguments)}("1")},className:"mb-4",placeholder:"Ch\u1ecdn danh m\u1ee5c",readOnly:!0})),m.a.createElement(O,null,"Size"),m.a.createElement(v.Label,null,m.a.createElement(v.Input,{id:"Size",name:"Size",value:he.values.Size,onChange:he.handleChange,className:"mb-4",placeholder:"Nh\u1eadp size"})),m.a.createElement(O,null,"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m"),m.a.createElement(v.Label,null,m.a.createElement(v.Textarea,{id:"Description",name:"Description",value:he.values.Description,onChange:he.handleChange,className:"mb-4",rows:"6"})),m.a.createElement(O,null,"Gi\xe1"),m.a.createElement(v.Label,null,m.a.createElement(v.Input,{id:"Price",name:"Price",value:he.values.Price,onChange:he.handleChange,type:"number",className:"mb-4 ",placeholder:"Nh\u1eadp v\xe0o"})),m.a.createElement("div",{className:"w-full"},m.a.createElement(v.Button,{type:"submit",size:"large",iconLeft:f.AddIcon},"Th\xeam s\u1ea3n ph\u1ea9m")))))))}},56:function(e,a,t){"use strict";var n=t(0),l=t.n(n);a.a=function(e){var a=e.children;return l.a.createElement("h1",{className:"my-4 text-2xl font-semibold text-gray-700 dark:text-gray-200"},a)}},61:function(e,a,t){"use strict";var n=t(68),l=t(0),r=t.n(l),c=["icon"];a.a=function(e){var a=e.icon,t=Object(n.a)(e,c),l=a;return r.a.createElement(l,t)}},81:function(e,a,t){"use strict";var n=t(58),l=t.n(n),r=t(28),c=t(59);a.a=function(e,a){for(var t=function(){var e=Object(c.a)(l.a.mark((function e(t){var n,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","2clothy"),e.next=5,fetch("https://api.cloudinary.com/v1_1/sacchidananad-utech/image/upload",{method:"POST",body:n});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,a((function(e){return[].concat(Object(r.a)(e),[s.secure_url])}));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n=0;n<e.length;n++)t(e[n])}}}]);
//# sourceMappingURL=22.618f2606.chunk.js.map